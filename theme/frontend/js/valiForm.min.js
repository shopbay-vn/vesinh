var FORM_VALIDATE=function(){var e,t=!1,n=[],a=function(n,a){var r=document.getElementById("snackbar"),i=o(n);r.style.position="absolute",r.style.left=i.x+"px",r.style.top=i.y+"px",t&&(r.className="snack_hidden",clearTimeout(e)),t=!0,r.getElementsByTagName("p")[0].innerHTML=a,r.className="snack_visible",e=setTimeout(function(){t&&(document.getElementById("snackbar").className="snack_hidden");t=!1},3e3)},o=function(e){var t=e.getBoundingClientRect();return{x:window.scrollX+t.left+t.width/2,y:window.scrollY+t.top+t.height+6}},r=function(e){for(var t=e.querySelectorAll("[crequired]"),n=0;n<t.length;n++){if(""==(r=t[n]).value.trim()){var o=r.getAttribute("text-crequired");return a(r,o),r.focus(),!1}}for(t=e.querySelectorAll("[cregex]"),n=0;n<t.length;n++){var r,i=(r=t[n]).value.trim(),s=r.getAttribute("cregex");if(""!=s)if(!new RegExp(s).test(i)){o=r.getAttribute("text-cregex");return a(r,o),r.focus(),!1}}return!0},i=function(e,t,n){var a=e.split(".");if(1==a.length){var o=a[0];null!=window[o]&&"function"==typeof window[o]?window[o](t):n&&"object"==typeof window.toastr&&(null!=t.code&&200==t.code?window.toastr.success(t.message):null!=t.code&&100==t.code&&window.toastr.error(t.message))}else if(2==a.length){var r=a[0];o=a[1];null!=window[r]&&"object"==typeof window[r]?null!=window[r][o]&&"function"==typeof window[r][o]&&window[r][o](t):n&&"object"==typeof window.toastr&&(null!=t.code&&200==t.code?window.toastr.success(t.message):null!=t.code&&100==t.code&&window.toastr.error(t.message))}},s=function(){$(document).on("submit",".ajaxform",function(e){if(e.preventDefault(),r(this)){var t=this,a=$(t),o=a.attr("action"),s=a.attr("data-success")||"",l=a.attr("data-fail")||"",d=a.attr("data-always")||"",c=a.attr("method"),u=a.attr("data-type")||"json",f=a.attr("data-global")||!1;!function(e){for(var t=e.querySelectorAll("button[type=submit]"),a=0;a<t.length;a++){var o=t[a];o.disabled=!0,n.push(o.innerHTML),o.innerHTML='<span class="box_loading_icon"></span>'}}(t),$.ajax({url:o,type:c,global:f,dataType:u,data:a.serialize()}).done(function(e){i(s,e,!0),null!=a&&a.length>0&&a[0].reset()}).fail(function(e){i(l,e,!0)}).always(function(e){!function(e){for(var t=e.querySelectorAll("button[type=submit]"),a=0;a<t.length;a++){var o=t[a];o.disabled=!1,o.innerHTML=n[a]}}(t),i(d,e,!1)})}})};return{_:function(){s(),function(){var e='#snackbar{display:none;pointer-events:none;transform:translate(-50%)}#snackbar .arrow{content:"";display:block;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #b60808d1;position:absolute;top:-6px;left:50%;transform:translate(-50%)}#snackbar p{padding:2px 5px;border-radius:3px;background:#b60808d1;color:#fff}#snackbar.snack_visible{display:block}#snackbar.snack_hidden{display:none}.box_loading_icon{display:inline-block;max-width:100%;max-height:100%}.box_loading_icon:after{content:" ";display:block;width:32px;height:32px;margin:2px;border-radius:50%;border:3px solid #fff;border-color:#fff transparent #fff transparent;animation:lds-dual-ring 1.2s linear infinite}@keyframes lds-dual-ring{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}';head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style"),head.appendChild(style),style.type="text/css",style.styleSheet?style.styleSheet.cssText=e:style.appendChild(document.createTextNode(e));var t=document.createElement("div");t.id="snackbar",t.innerHTML='<span class="arrow"></span><p></p>',document.body.appendChild(t)}()},validate:function(e){return r(e)}}}();$(function(){FORM_VALIDATE._()});